# This file contains the fastlane.tools configuration
# You can find the documentation at https://docs.fastlane.tools
#
# For a list of all available actions, check out
#
#     https://docs.fastlane.tools/actions
#
# For a list of all available plugins, check out
#
#     https://docs.fastlane.tools/plugins/available-plugins
#

# Uncomment the line if you want fastlane to automatically update itself
# update_fastlane

default_platform(:ios)

platform :ios do
  desc "Description of what the lane does"
  lane :build_and_export do
 # add actions here: https://docs.fastlane.tools/actions
    increment_build_number(
      xcodeproj: "CatsListView.xcodeproj",
      build_number: "1.1"
    )

    gym

    firebase_app_distribution(
      app: "CatsListView",
      testers: "o.frankiv@ukma.edu.ua",
      release_notes: "Release notes for version 1.1"
    )

    puts "Everything worked!"
  end


  lane :take_screenshots do
    snapshot
  end

  lane :bitrise do
     # Check if the branch is a release branch
        
          # Run necessary build and distribution steps
    increment_build_number(
      xcodeproj: "CatsListView.xcodeproj",
      build_number: "1.2"
    )
          
    gym


    firebase_app_distribution(
      app: "1:319609070106:ios:31b2b41977af540df9a7a3",
      testers: "o.frankiv@ukma.edu.ua",
      release_notes: "Release notes for new version of 1.2!",
      # firebase_cli_token
      firebase_cli_token: ENV['1//0chaZbgSR6LQqCgYIARAAGAwSNwF-L9Ir88TXh0pfTMuACUC0bXvlQXhqb1fTpaIsucQ90oXjapvyETuavn2Sud11p_ZpwFewVNs'],
    )
          
          
          # Output success message
    puts "Automatic build completed successfully!"
        
  end 
      
end